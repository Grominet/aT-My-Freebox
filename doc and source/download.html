<html><head>
<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"></head><body><h1>T√©l√©chargement</h1>

  
  <p> Module permettant d'ajouter/supprimer/lister des t√©l√©chargements vers des liens http, ftp ou fichier torrents. </p><p>
 Pour les protocoles http/ftp, il n'est possible de t√©l√©charger que 
sur des serveurs ne demandant ni authentification ni n'utilisant un 
protocole de chiffrement (c'est √&nbsp; dire pas de https, ftps). De 
m√™me, les t√©l√©chargement r√©cursifs (mirroir) ne sont pas possible. </p><p>
 Pour le protocole torrent, une interface minimaliste est disponible via
 ces commandes. Pour plus de contr√¥le, reportez vous √&nbsp; 
l'interface directe de transmission. </p><p>
 √&#8364; chaque t√¢che ajout√©e est associ√© un identifiant, qui pourra vous 
servir √&nbsp; la contr√¥ler (r√©cup√©rer l'√©tat, la supprimer, ...). 
Les identifiants ne sont pas unique entre protocoles.</p><br>



  <h2>Types</h2>
  
    <h3><a name="type.dltype"><code>dltype</code></a></h3>
    <p>Protocole utilis√© par la t√¢che.</p><p>
    
<table class="enum">
  
  <tbody><tr class="odd">
    <th>torrent</th>
    <td>T√©l√©chargement d'un fichier torrent.</td>
  </tr>
  
  <tr class="">
    <th>http</th>
    <td>T√©l√©chargement d'un lien ftp.</td>
  </tr>
  
  <tr class="odd">
    <th>ftp</th>
    <td>T√©l√©chargement d'un lien ftp.</td>
  </tr>
  
</tbody></table>

    </p><hr>
  
    <h3><a name="type.task"><code>task</code></a></h3>
    <p>√&#8240;tat d'une op√©ration de t√©l√©chargement.</p><p>
    
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>id</li></ul></td>
       <td>entier</td>
       <td>Identifiant de la t√¢che.</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>type</li></ul></td>
       <td><a href="#type.dltype">dltype</a></td>
       <td>Protocole utilis√© par la t√¢che.</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>name</li></ul></td>
       <td>cha√Æne</td>
       <td>Nom donn√© √&nbsp; cette t√¢che.</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>url</li></ul></td>
       <td>cha√Æne</td>
       <td>Lien http/ftp (uniquement http/ftp).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>status</li></ul></td>
       <td>&nbsp;</td>
       <td>&nbsp;</td>
    </tr>
    
      <tr><td class="enum" colspan="3">
<table class="enum">
  
  <tbody><tr class="odd">
    <th>queued</th>
    <td>T√¢che dans la file d'attente (en attente de t√©l√©chargement, uniquement http/ftp).</td>
  </tr>
  
  <tr class="">
    <th>running</th>
    <td>T√¢che en cours de t√©l√©chargement.</td>
  </tr>
  
  <tr class="odd">
    <th>seeding</th>
    <td>T√¢che en cours de diffusion (uniquement torrent).</td>
  </tr>
  
  <tr class="">
    <th>paused</th>
    <td>T√¢che interrompue (en pause).</td>
  </tr>
  
  <tr class="odd">
    <th>done</th>
    <td>T√¢che termin√©e.</td>
  </tr>
  
  <tr class="">
    <th>error</th>
    <td>Une erreur s'est produite.</td>
  </tr>
  
</tbody></table>
</td></tr>
    
  
    <tr>
       <td><ul class="field"><li>size</li></ul></td>
       <td>entier</td>
       <td>Taille totale du fichier (en octets).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>transferred</li></ul></td>
       <td>entier</td>
       <td>Taille du fichier transf√©r√©e jusque l√&nbsp; (en octets).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>rx_rate</li></ul></td>
       <td>entier</td>
       <td>Vitesse de t√©l√©chargement (en octets/seconde).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>tx_rate</li></ul></td>
       <td>entier</td>
       <td>Vitesse de diffusion (en octets/seconde, torrent).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>rx_peer</li></ul></td>
       <td>entier</td>
       <td>Nombre de connexion √&nbsp; d'autres utilisateurs pour le  t√©l√©chargement (torrent).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>tx_peer</li></ul></td>
       <td>entier</td>
       <td>Nombre de connexion √&nbsp; d'autres utilisateurs pour la diffusion (torrent).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>errmsg</li></ul></td>
       <td>cha√Æne</td>
       <td>Message d'erreur (si status == 'error').</td>
    </tr>
    
  
  </tbody></table>
  

    </p><hr>
  
    <h3><a name="type.cfg"><code>cfg</code></a></h3>
    <p>Options de configuration utilisateur.</p><p>
    
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>download_dir</li></ul></td>
       <td>cha√Æne</td>
       <td>R√©pertoire de t√©l√©chargement.</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>refresh_rate</li></ul></td>
       <td>entier</td>
       <td>Temps de rafra√Æchissement de l'interface web (en millisecondes).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>max_peer</li></ul></td>
       <td>entier</td>
       <td>Nombre maximum de connexion √&nbsp; d'autres utilisateurs (torrent).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>max_dl</li></ul></td>
       <td>entier</td>
       <td>Vitesse maximale de t√©l√©chargement (en ko/s, torrent).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>max_up</li></ul></td>
       <td>entier</td>
       <td>Vitesse maximale de diffusion (en ko/s, torrent).</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>seed_ratio</li></ul></td>
       <td>entier</td>
       <td>Ratio t√©l√©chargement/diffusion √&nbsp; atteindre avant de stopper la diffusion (torrent).</td>
    </tr>
    
  
  </tbody></table>
  

    
  


</p><h2>M√©thodes</h2>

<h3><a name="start"><code>download.start (type, id)</code></a></h3>
<p>
 D√©bute le t√©l√©chargement d'une t√¢che.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>type</li></ul></td>
       <td><a href="#type.dltype">dltype</a></td>
       <td>Protocole utilis√© par la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
    <tr>
       <td><ul class="field"><li>id</li></ul></td>
       <td>entier</td>
       <td>Identifiant de la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
  </tbody></table>
  




<p></p>
<hr>

<h3><a name="stop"><code>download.stop (type, id)</code></a></h3>
<p>
 Met un t√©l√©chargement en pause.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>type</li></ul></td>
       <td><a href="#type.dltype">dltype</a></td>
       <td>Protocole utilis√© par la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
    <tr>
       <td><ul class="field"><li>id</li></ul></td>
       <td>entier</td>
       <td>Identifiant de la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
  </tbody></table>
  




<p></p>
<hr>

<h3><a name="remove"><code>download.remove (type, id)</code></a></h3>
<p>
 Supprime un t√©l√©chargement. Si l'objectif est d'interrompre un 
t√©l√©chargement en cours, il vaut mieux supprimer les fichiers 
partiellement obtenus.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>type</li></ul></td>
       <td><a href="#type.dltype">dltype</a></td>
       <td>Protocole utilis√© par la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
    <tr>
       <td><ul class="field"><li>id</li></ul></td>
       <td>entier</td>
       <td>Identifiant de la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
  </tbody></table>
  




<p></p>
<hr>

<h3><a name="torrent_add"><code>download.torrent_add (opt)</code></a></h3>
<p>
 Ajoute un t√©l√©chargement, en utilisant le protocole bittorrent.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>opt</li></ul></td>
       <td>&nbsp;</td>
       <td>Param√®tres pour l'ajout. Un seul de ces champs est n√©cessaire.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>url</li></ul></td>
       <td>cha√Æne</td>
       <td>Un lien http vers le fichier torrent.</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>magnet</li></ul></td>
       <td>cha√Æne</td>
       <td>Un lien torrent de type magnet link.</td>
    </tr>
    
  
    <tr>
       <td><ul class="field"><li>data</li></ul></td>
       <td>cha√Æne</td>
       <td>Le contenu du fichier torrent, encod√© en base64.</td>
    </tr>
    
  
  </tbody></table>
  
</td></tr>
    
  
  </tbody></table>
  




  <h4>Retour:</h4>
  <table class="param">
    <tbody><tr><td>Un entier, Identifiant de la t√¢che.</td></tr>
    
  </tbody></table>

<p></p>
<hr>

<h3><a name="http_add"><code>download.http_add (name, url)</code></a></h3>
<p>
 Ajoute un t√©l√©chargement, en utilisant le protocole http.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>name</li></ul></td>
       <td>cha√Æne</td>
       <td>Le nom affich√© du t√©l√©chargement</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
    <tr>
       <td><ul class="field"><li>url</li></ul></td>
       <td>cha√Æne</td>
       <td>Le lien http √&nbsp; t√©l√©charger.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
  </tbody></table>
  




  <h4>Retour:</h4>
  <table class="param">
    <tbody><tr><td>Un entier, Identifiant de la t√¢che.</td></tr>
    
  </tbody></table>

<p></p>
<hr>

<h3><a name="get"><code>download.get (type, id)</code></a></h3>
<p>
 R√©cup√®re l'√©tat d'un t√©l√©chargement.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>type</li></ul></td>
       <td><a href="#type.dltype">dltype</a></td>
       <td>Protocole utilis√© par la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
    <tr>
       <td><ul class="field"><li>id</li></ul></td>
       <td>entier</td>
       <td>Identifiant de la t√¢che.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
  </tbody></table>
  




  <h4>Retour:</h4>
  <table class="param">
    <tbody><tr><td>Un objet de type <a href="#type.task">task</a>.</td></tr>
    
  </tbody></table>

<p></p>
<hr>

<h3><a name="list"><code>download.list ()</code></a></h3>
<p>
 R√©cup√®re la liste de tous les t√©l√©chargements en cours et termin√©s.

  </p><p></p>




  <h4>Retour:</h4>
  <table class="param">
    <tbody><tr><td>Un tableau d'objets de type <a href="#type.task">task</a>.</td></tr>
    
  </tbody></table>

<p></p>
<hr>

<h3><a name="config_get"><code>download.config_get ()</code></a></h3>
<p>
 R√©cup√®re la configuration utilisateur du module de t√©l√©chargement.

  </p><p></p>




  <h4>Retour:</h4>
  <table class="param">
    <tbody><tr><td>Un objet de type <a href="#type.cfg">cfg</a>.</td></tr>
    
  </tbody></table>

<p></p>
<hr>

<h3><a name="config_set"><code>download.config_set (cfg)</code></a></h3>
<p>
 Modifie la configuration utilisateur du module de t√©l√©chargement.

  </p><p></p>


  <h4>Param√®tres en entr√©e:</h4>
  
  
  <table class="field">
  
    <tbody><tr>
       <td><ul class="field"><li>cfg</li></ul></td>
       <td><a href="#type.cfg">cfg</a></td>
       <td>Options de configuration utilisateur.</td>
    </tr>
    
      <tr><td class="subfield" colspan="3">
  
</td></tr>
    
  
  </tbody></table>
  




<p></p>
<hr>

</body></html>